<div class="tab-pane fade <% if(typeof(pane) !== 'undefined' && pane == 'pd' || pane == 'sf' ) { %>show active<% } %>"
    id="allProductsTab" role="tabpanel" aria-labelledby="all-products-tab">
    <h2 class="tab-pane-h2">All Products</h2>
    <div class="form-group form-inline mb-3">
       <label id="newAddressTypeLabel" class="form-label" for="newAdddressType">Shop</label>
       <select id="newAddressType"
            class="form-control" type="text"
            name="addressType" value="" aria-label="addressType" aria-describedby="addressType-basic-addon">
                 <option>All</option>
                 <% for(let i=0;i<shops.length;i++) { %>
                 <option id="<%= shops[i]._id %>"><%= shops[i].name %></option>
                 <% } %>
        </select>
    </div>
    <div>
        <a class="right add-address-link" href="#new-address-form"><%- include('assets/symbols/plus.svg') %> Add Product</a>
    </div>
    <hr>
    <section id="address-list-section" class="content-pane-scroll-cards-section tab-scroll-pane">
        <% if (typeof(products) !== 'undefined' && Array.isArray(products) && products.length > 0) { %>
        <% for(let i=0;i<products.length;i++) { %>
        <div class="card">
            <div class="card-body">
                <div class="actionable-card-pane">
                    <div class="address-view-card-pane">
                        <ul>
                        <li><span><p>
                                <b><%= products[i].name %></b><br>
                                <%= products[i].status %>
                                <% if (typeof(products[i].image) !== 'undefined' ) { %>
                                <img alt="<%= products[i].image.originalname %>" width="50" height="60" src="data:<%= shops[i].image.mimetype %>;base64,<%= products[i].image.base64 %>"/>
                                <% } %>
                            </p>
                            </span></li>
                        </ul>
                    </div>
                    <div class="action-button-section">
                        <form class="edit-delete-action-form" method="POST" action="/user/shop">
                            <input type="hidden" name="id" value="upproduct">
                            <input type="hidden" name="pid" value="<% if(typeof(products[i]._id) !== 'undefined') { %><%= products[i]._id %><% } %>">
                            
                            <input type="hidden" name="sid" value="<% if(typeof(products[i].sid) !== 'undefined') { %><%= products[i].sid %><% } %>">
                            <input type="hidden" name="uid" value="<% if(typeof(user.id) !== 'undefined') { %><%= user.id %><% } %>">
                            <button class=" action-icon-button  action-icon" type="submit" data-toggle="tooltip" data-placement="left" title="Edit" name="update" value="edit">
                            <%- include('assets/symbols/edit.svg') %>
                            </button>
                            <button class=" action-icon-button delete-icon action-icon" type="submit"  data-toggle="tooltip" data-placement="left" title="Delete" name="update" value="delete">
                                <%- include('assets/symbols/bin.svg') %>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <% } %>
        <%  } else { %>
        <p>No products associated with shop.</p>
        <% } %>
    </section>
    <hr>
</div>
